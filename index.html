<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âš”ï¸ FarmBoy v0.2 - EternalFarm Command Center âš”ï¸</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âš”ï¸</text></svg>">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>âš”ï¸ FarmBoy v0.2 - EternalFarm Command Center âš”ï¸</h1>
            <div class="header-controls">
                <div class="theme-toggle-container">
                    <span class="theme-label">ğŸŒ™</span>
                    <label class="theme-toggle">
                        <input type="checkbox" id="themeToggle">
                        <span class="theme-slider"></span>
                    </label>
                    <span class="theme-label">â˜€ï¸</span>
                </div>
                <div class="connection-status">
                    <span id="live-indicator">ğŸ”´ OFFLINE</span>
                </div>
            </div>
        </div>
        
        <!-- Navigation Menu -->
        <nav class="main-nav">
            <div class="nav-container">
                <button class="nav-btn active" data-section="overview">ğŸ  Overview</button>
                <button class="nav-btn" data-section="agents">ğŸ¤– Agents</button>
                <button class="nav-btn" data-section="discord-hooks">ğŸ”— Discord</button>
                <button class="nav-btn" data-section="proxy-checker">ğŸ” Proxies</button>
                <button class="nav-btn" data-section="config">âš™ï¸ Config</button>
                <div class="nav-indicator"></div>
            </div>
        </nav>
        
        <!-- Live Configuration Panel -->
        <div class="config-panel">
            <button id="toggleConfig" class="config-toggle">âš™ï¸ Live Configuration</button>
            <div id="configSection" class="config-section" style="display:none;">
                
                <!-- EternalFarm Configuration -->
                <div class="config-group">
                    <h3>ğŸ”¥ EternalFarm Settings</h3>
                    <div class="config-row">
                        <label for="eternalfarmApiKey">ğŸ—ï¸ API Key:</label>
                        <input type="password" id="eternalfarmApiKey" placeholder="Enter your EternalFarm API Key..." style="min-width: 400px;">
                        <button id="testApiKey">ğŸ§ª Test</button>
                    </div>
                    <div class="config-row">
                        <label for="eternalfarmApiUrl">ğŸŒ API URL:</label>
                        <input type="text" id="eternalfarmApiUrl" value="https://api.eternalfarm.net" style="min-width: 300px;">
                    </div>
                    <div class="config-status" id="eternalfarmStatus">âš« Not configured</div>
                </div>

                <!-- DreamBot Configuration -->
                <div class="config-group">
                    <h3>ğŸ¤– DreamBot Settings</h3>
                    <div class="config-row">
                        <label for="dreambotUsername">ğŸ‘¤ Username:</label>
                        <input type="text" id="dreambotUsername" placeholder="RuneScape username">
                        <label for="dreambotPassword">ğŸ” Password:</label>
                        <input type="password" id="dreambotPassword" placeholder="RuneScape password">
                    </div>
                    <div class="config-row">
                        <label for="dreambotScript">ğŸ“œ Default Script:</label>
                        <input type="text" id="dreambotScript" placeholder="Script name">
                        <label for="dreambotWorld">ğŸŒ World:</label>
                        <input type="number" id="dreambotWorld" value="301" style="width: 80px;">
                    </div>
                    <div class="config-status" id="dreambotStatus">âš« Not configured</div>
                </div>

                <!-- Discord Configuration -->
                <div class="config-group">
                    <h3>ğŸ”” Discord Notifications</h3>
                    <div class="config-row">
                        <label for="discordWebhook">ğŸ“¢ Webhook URL:</label>
                        <input type="text" id="discordWebhook" placeholder="https://discord.com/api/webhooks/..." style="min-width: 400px;">
                        <button id="testDiscord">ğŸ§ª Test</button>
                    </div>
                    <div class="config-status" id="discordStatus">âš« Not configured</div>
                </div>

                <!-- Save/Load Configuration -->
                <div class="config-actions">
                    <button id="saveConfig" class="primary-btn">ğŸ’¾ Save All Settings</button>
                    <button id="loadConfig" class="secondary-btn">ğŸ“¥ Load Current</button>
                    <button id="applyConfig" class="success-btn">ğŸš€ Apply & Restart Services</button>
                </div>
                
                <p class="config-warning">âš ï¸ Settings are applied live and persist in the container environment</p>
            </div>
        </div>
    </header>

    <main>
        <!-- Overview Dashboard -->
        <section id="overview-section" class="main-section active">
            <h2>ğŸ“Š Command Center Overview</h2>
            <div class="overview-grid">
                
                <!-- Status Cards -->
                <div class="status-cards">
                    <div class="status-card eternalfarm-status">
                        <div class="card-icon">ğŸ”¥</div>
                        <div class="card-content">
                            <h3>EternalFarm API</h3>
                            <div class="status-indicator" id="overviewEternalfarmStatus">âš« Not Connected</div>
                            <div class="status-details">Last sync: <span id="lastEternalfarmSync">Never</span></div>
                        </div>
                    </div>
                    
                    <div class="status-card discord-status">
                        <div class="card-icon">ğŸ”—</div>
                        <div class="card-content">
                            <h3>Discord Integration</h3>
                            <div class="status-indicator" id="overviewDiscordStatus">âš« Not Configured</div>
                            <div class="status-details">Last message: <span id="lastDiscordMessage">Never</span></div>
                        </div>
                    </div>
                    
                    <div class="status-card agents-status">
                        <div class="card-icon">ğŸ¤–</div>
                        <div class="card-content">
                            <h3>Active Agents</h3>
                            <div class="status-indicator" id="overviewAgentsCount">0 / 0</div>
                            <div class="status-details">Running bots: <span id="runningBotsCount">0</span></div>
                        </div>
                    </div>
                    
                    <div class="status-card system-status">
                        <div class="card-icon">ğŸ’»</div>
                        <div class="card-content">
                            <h3>System Health</h3>
                            <div class="status-indicator" id="overviewSystemStatus">ğŸŸ¢ Healthy</div>
                            <div class="status-details">Uptime: <span id="systemUptime">0h 0m</span></div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions Panel -->
                <div class="overview-actions">
                    <h3>âš¡ Quick Actions</h3>
                    <div class="action-buttons">
                        <button class="action-button" onclick="switchToSection('agents')">
                            <span class="action-icon">ğŸ¤–</span>
                            <span class="action-text">Manage Agents</span>
                        </button>
                        <button class="action-button action-btn" data-action="Send Alert">
                            <span class="action-icon">ğŸ“¢</span>
                            <span class="action-text">Send Discord Alert</span>
                        </button>
                        <button class="action-button" onclick="testDiscordConnection()">
                            <span class="action-icon">ğŸ§ª</span>
                            <span class="action-text">Test Discord</span>
                        </button>
                        <button class="action-button action-btn" data-action="Screenshot + Stats">
                            <span class="action-icon">ğŸ“¸</span>
                            <span class="action-text">Quick Screenshot</span>
                        </button>
                        <button class="action-button" onclick="syncEternalfarmAgents()">
                            <span class="action-icon">ğŸ”„</span>
                            <span class="action-text">Sync Agents</span>
                        </button>
                        <button class="action-button" onclick="switchToSection('config')">
                            <span class="action-icon">âš™ï¸</span>
                            <span class="action-text">Configuration</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Activity Feed -->
                <div class="activity-feed">
                    <h3>ğŸ“œ Recent Activity</h3>
                    <div id="activityLog" class="activity-list">
                        <div class="activity-item">
                            <span class="activity-time">â° Just now</span>
                            <span class="activity-text">ğŸš€ FarmBoy v0.2 initialized</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">â° System start</span>
                            <span class="activity-text">ğŸ’¾ Loading configuration...</span>
                        </div>
                    </div>
                </div>

                <!-- Performance Metrics -->
                <div class="performance-metrics">
                    <h3>ğŸ“ˆ Performance Metrics</h3>
                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-label">Memory Usage</div>
                            <div class="metric-value" id="memoryUsage">--</div>
                            <div class="metric-bar">
                                <div class="metric-fill" id="memoryBar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">CPU Usage</div>
                            <div class="metric-value" id="cpuUsage">--</div>
                            <div class="metric-bar">
                                <div class="metric-fill" id="cpuBar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">API Requests</div>
                            <div class="metric-value" id="apiRequests">0</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Discord Messages</div>
                            <div class="metric-value" id="discordMessageCount">0</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="agents-section" class="main-section">
            <h2>ğŸ¤– Agents</h2>
            <div class="agent-controls">
                <button id="loadAgents">ğŸ” Load Agents</button>
                <button id="syncAgents">ğŸ”„ Sync from EternalFarm</button>
            </div>
            <ul id="agents-list"></ul>
        </section>

        <section id="clients-section" class="main-section" style="display:none;">
            <h2 id="clients-header">ğŸ‘¥ Clients for Agent: <span id="current-agent-id"></span></h2>
            <div class="section-controls">
                <button id="refreshClients" class="btn-primary">ğŸ”„ Refresh Clients</button>
            </div>
            <div id="clients-list" class="clients-grid"></div>
        </section>

        <section id="client-controls-section" class="main-section" style="display:none;">
            <h2>âš™ï¸ Manage Client: <span id="current-client-id-manage"></span></h2>
            <div id="start-form" class="client-management-form">
                <div class="form-section">
                    <h3>ğŸš€ Start New Dreambot Client</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="scriptName">ğŸ“œ Script Name:</label>
                            <input type="text" id="scriptName" value="P2P AI Master" placeholder="e.g., P2P AI Master">
                        </div>
                        <div class="form-group">
                            <label for="scriptParams">âš™ï¸ Script Parameters:</label>
                            <input type="text" id="scriptParams" placeholder="e.g., -param1 value1 -param2 value2">
                        </div>
                        <div class="form-group">
                            <label for="runDuration">â° Run Duration:</label>
                            <select id="runDuration">
                                <option value="0">â™¾ï¸ Manual Stop</option>
                                <option value="3">â³ 3 Hours</option>
                                <option value="6">â³ 6 Hours</option>
                                <option value="9">â³ 9 Hours</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button id="startDreambotClient" class="btn-success">ğŸš€ Start Dreambot</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="discord-hooks-section" class="main-section">
            <h2>ğŸ”— Discord Hooks Management</h2>
            <div class="discord-hooks-container">
                
                <!-- Discord Webhook Configuration -->
                <div class="discord-panel">
                    <h3>âš™ï¸ Webhook Configuration</h3>
                    <div class="webhook-config">
                        <div class="form-group">
                            <label for="hookWebhookUrl">ğŸ“¢ Primary Webhook URL:</label>
                            <input type="text" id="hookWebhookUrl" value="https://discord.com/api/webhooks/1379651760661991475/lcgRwEj3Y0Hl4bW7DLjm7lfvQ3VnMJzGbstNVYWoDa--xUmzsSCl-NMlNAkC3fJTCqBE" placeholder="https://discord.com/api/webhooks/..." class="webhook-input">
                            <div class="flex gap-3 mt-3">
                                <button id="saveWebhookUrl" class="btn-primary" onclick="DirectDiscord.saveConfig()">ğŸ’¾ Save</button>
                                <button class="btn-success" onclick="DirectDiscord.testWebhook()">ğŸ§ª Test</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="hookChannelName">ğŸ“º Channel Name:</label>
                            <input type="text" id="hookChannelName" placeholder="farm-alerts">
                        </div>
                        <div class="form-group">
                            <label for="hookBotName">ğŸ¤– Bot Name:</label>
                            <input type="text" id="hookBotName" value="Farm Manager">
                        </div>
                        <div class="webhook-status" id="webhookStatus">âš« Not configured</div>
                    </div>
                </div>

                <!-- Live Screenshot Controls -->
                <div class="discord-panel">
                    <h3>ğŸ“¸ Live Screenshots</h3>
                    <div class="screenshot-controls mb-4">
                        <div class="grid grid-cols-2 gap-3">
                            <button id="takeScreenshot" class="btn-primary" onclick="DirectDiscord.takeScreenshot('desktop')">ğŸ“¸ Take Screenshot</button>
                            <button id="takeFullScreenshot" class="btn-secondary" onclick="DirectDiscord.takeScreenshot('full')">ğŸ–¥ï¸ Full Desktop</button>
                            <button id="takeVncScreenshot" class="btn-secondary" onclick="DirectDiscord.takeScreenshot('vnc')">ğŸ“º VNC View</button>
                            <button id="takeWebScreenshot" class="btn-secondary" onclick="DirectDiscord.takeScreenshot('web')">ğŸŒ Web Interface</button>
                        </div>
                    </div>
                    <div class="screenshot-options mb-4">
                        <div class="flex gap-4 flex-wrap">
                            <label class="flex items-center gap-2">
                                <input type="checkbox" id="autoSendScreenshot" checked>
                                ğŸ“¤ Auto-send to Discord
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" id="includeStats">
                                ğŸ“Š Include system stats
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" id="includeTimestamp" checked>
                                â° Include timestamp
                            </label>
                        </div>
                    </div>
                    <div class="screenshot-preview" id="screenshotPreview" style="display:none;">
                        <h4 class="mb-3">ğŸ“‹ Preview</h4>
                        <img id="previewImage" alt="Screenshot preview" class="w-full rounded-lg mb-3" style="max-height: 300px; object-fit: contain;">
                        <div class="flex gap-3">
                            <button id="sendPreviewToDiscord" class="btn-success">ğŸ“¤ Send to Discord</button>
                            <button id="downloadPreview" class="btn-secondary">ğŸ’¾ Download</button>
                            <button id="clearPreview" class="btn-danger">ğŸ—‘ï¸ Clear</button>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="discord-panel">
                    <h3>âš¡ Quick Actions</h3>
                    <div class="quick-actions-grid">
                        <button class="action-btn btn-primary" onclick="DirectDiscord.sendStatus()">ğŸ“Š Send Status Update</button>
                        <button class="action-btn btn-secondary" onclick="DirectDiscord.sendSystemStats()">ğŸ’» Send System Stats</button>
                        <button class="action-btn btn-success" onclick="DirectDiscord.sendAgents()">ğŸ¤– Send Agent Summary</button>
                        <button class="action-btn btn-primary" onclick="DirectDiscord.takeScreenshot('full')">ğŸ“¸ Screenshot + Stats</button>
                        <button class="action-btn btn-secondary" onclick="DirectDiscord.sendTaskUpdate()">ğŸ“‹ Send Task Update</button>
                        <button class="action-btn btn-danger" onclick="DirectDiscord.sendAlert()">ğŸš¨ Send Alert</button>
                    </div>
                </div>

                <!-- Custom Message Composer -->
                <div class="discord-panel">
                    <h3>âœï¸ Custom Message</h3>
                    <div class="composer-controls">
                        <div class="form-group">
                            <label for="customMessage">Message Content:</label>
                            <textarea id="customMessage" placeholder="Type your custom message here..." rows="4"></textarea>
                        </div>
                        <div class="composer-options">
                            <div class="form-group">
                                <label for="messageColor">Message Color:</label>
                                <select id="messageColor">
                                    <option value="0x00ff00">ğŸŸ¢ Green (Success)</option>
                                    <option value="0xffff00">ğŸŸ¡ Yellow (Warning)</option>
                                    <option value="0xff0000">ğŸ”´ Red (Error)</option>
                                    <option value="0x0099ff">ğŸ”µ Blue (Info)</option>
                                    <option value="0xff6600">ğŸŸ  Orange (Notice)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="messageTitle">Message Title:</label>
                                <input type="text" id="messageTitle" placeholder="Message title...">
                            </div>
                        </div>
                        <div class="composer-actions">
                            <button id="sendCustomMessage" class="btn-primary" onclick="DirectDiscord.sendCustomMessage()">ğŸ“¤ Send Message</button>
                            <button id="previewCustomMessage" class="btn-secondary" onclick="DirectDiscord.previewMessage()">ğŸ‘ï¸ Preview</button>
                        </div>
                    </div>
                </div>

                <!-- Recent Messages Log -->
                <div class="messages-log">
                    <h3>ğŸ“œ Recent Messages</h3>
                    <div class="log-controls">
                        <button id="clearLog" class="btn-secondary">ğŸ§¹ Clear Log</button>
                        <button id="exportLog" class="btn-secondary">ğŸ“¤ Export</button>
                        <label>
                            <input type="checkbox" id="autoRefreshLog" checked>
                            ğŸ”„ Auto-refresh
                        </label>
                    </div>
                    <div id="messagesLog" class="messages-list">
                        <div class="log-entry">
                            <span class="log-time">ğŸ“… Waiting for messages...</span>
                        </div>
                    </div>
                </div>

                <!-- Discord Proxy Checker -->
                <div class="discord-proxy-checker">
                    <h3>ğŸ” Discord Proxy Checker</h3>
                    <div class="discord-proxy-panel">
                        <div class="proxy-test-section">
                            <div class="form-group">
                                <label for="discordSingleProxy">ğŸŒ Single Proxy Test:</label>
                                <input type="text" id="discordSingleProxy" placeholder="192.168.1.1:8080 or user:pass@host:port" class="proxy-input">
                                <div class="proxy-test-actions">
                                    <button class="btn-primary" onclick="DiscordProxyChecker.testSingleProxy()">ğŸ§ª Test Proxy</button>
                                    <button class="btn-success" onclick="DiscordProxyChecker.testAllProxies()">ğŸ”„ Test All Database</button>
                                    <button class="btn-secondary" onclick="DiscordProxyChecker.getProxyStats()">ğŸ“Š Get Statistics</button>
                                </div>
                            </div>
                            <div class="proxy-options">
                                <label>
                                    <input type="checkbox" id="sendProxyResultsToDiscord" checked>
                                    ğŸ“¤ Auto-send results to Discord
                                </label>
                                <label>
                                    <input type="checkbox" id="includeProxyLocation" checked>
                                    ğŸŒ Include location info
                                </label>
                            </div>
                        </div>
                        
                        <div id="discordProxyResults" class="proxy-results-display" style="display: none;">
                            <h4>ğŸ” Test Results:</h4>
                            <div id="discordProxyResultsContent"></div>
                        </div>
                        
                        <div class="proxy-stats-display">
                            <h4>ğŸ“Š Proxy Statistics</h4>
                            <div id="discordProxyStatsContent">
                                <div style="text-align: center; color: #bdc3c7;">
                                    Click "Get Statistics" to load proxy data
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="proxy-checker-section" class="main-section">
            <h2>ğŸ” Proxy Checker</h2>
            <div class="proxy-checker-container">
                
                <!-- Proxy Test Controls -->
                <div class="proxy-test-panel">
                    <h3>ğŸ§ª Single Proxy Test</h3>
                    <div class="proxy-input-form">
                        <div class="input-row">
                            <label for="proxyHost">ğŸŒ Host:</label>
                            <input type="text" id="proxyHost" placeholder="127.0.0.1">
                            <label for="proxyPort">ğŸ”Œ Port:</label>
                            <input type="number" id="proxyPort" placeholder="8080" style="width: 100px;">
                        </div>
                        <div class="input-row">
                            <label for="proxyUsername">ğŸ‘¤ Username:</label>
                            <input type="text" id="proxyUsername" placeholder="Optional">
                            <label for="proxyPassword">ğŸ” Password:</label>
                            <input type="password" id="proxyPassword" placeholder="Optional">
                        </div>
                        <div class="input-row">
                            <label for="proxyType">ğŸ“¡ Type:</label>
                            <select id="proxyType">
                                <option value="http">HTTP</option>
                                <option value="https">HTTPS</option>
                                <option value="socks4">SOCKS4</option>
                                <option value="socks5">SOCKS5</option>
                            </select>
                            <button id="testSingleProxy" class="btn-primary">ğŸ§ª Test Proxy</button>
                        </div>
                    </div>
                    <div id="singleProxyResult" class="test-result"></div>
                </div>

                <!-- Batch Testing -->
                <div class="batch-test-panel">
                    <h3>ğŸ“‹ Batch Testing</h3>
                    <div class="batch-controls">
                        <textarea id="proxyListInput" placeholder="Enter proxies (one per line):&#10;host:port&#10;host:port:username:password&#10;type://host:port&#10;type://username:password@host:port" rows="6"></textarea>
                        <div class="batch-options">
                            <label>
                                <input type="checkbox" id="checkLocation" checked>
                                ğŸŒ Check location
                            </label>
                            <label>
                                <input type="checkbox" id="checkSpeed" checked>
                                âš¡ Speed test
                            </label>
                            <label for="batchTimeout">â±ï¸ Timeout (ms):</label>
                            <input type="number" id="batchTimeout" value="10000" style="width: 100px;">
                            <label for="batchConcurrent">ğŸ”„ Concurrent:</label>
                            <input type="number" id="batchConcurrent" value="5" min="1" max="20" style="width: 80px;">
                        </div>
                        <div class="batch-actions">
                            <button id="testBatchProxies" class="btn-primary">ğŸ§ª Test All</button>
                            <button id="testDbProxies" class="btn-success">ğŸ“Š Test DB Proxies</button>
                            <button id="exportResults" class="btn-secondary">ğŸ“¤ Export Results</button>
                        </div>
                    </div>
                    <div id="batchProgress" class="progress-indicator" style="display:none;">
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill"></div>
                        </div>
                        <span id="progressText">Testing proxies...</span>
                    </div>
                </div>

                <!-- Results Summary -->
                <div class="results-summary-panel">
                    <h3>ğŸ“ˆ Test Results Summary</h3>
                    <div class="summary-stats">
                        <div class="stat-card">
                            <div class="stat-number" id="totalTested">0</div>
                            <div class="stat-label">Total Tested</div>
                        </div>
                        <div class="stat-card success">
                            <div class="stat-number" id="workingProxies">0</div>
                            <div class="stat-label">Working</div>
                        </div>
                        <div class="stat-card error">
                            <div class="stat-number" id="failedProxies">0</div>
                            <div class="stat-label">Failed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="avgResponseTime">0ms</div>
                            <div class="stat-label">Avg Response</div>
                        </div>
                    </div>
                </div>

                <!-- Detailed Results -->
                <div class="results-detail-panel">
                    <h3>ğŸ“‹ Detailed Results</h3>
                    <div class="results-controls">
                        <button id="showWorkingOnly" class="btn-success">âœ… Working Only</button>
                        <button id="showFailedOnly" class="btn-danger">âŒ Failed Only</button>
                        <button id="showAllResults" class="btn-secondary">ğŸ“‹ Show All</button>
                        <button id="clearResults" class="btn-secondary">ğŸ§¹ Clear</button>
                    </div>
                    <div id="proxyResults" class="proxy-results-list">
                        <div class="result-entry">
                            <span class="result-status">â„¹ï¸</span>
                            <span class="result-text">Run a proxy test to see results here...</span>
                        </div>
                    </div>
                </div>

                <!-- Database Integration -->
                <div class="db-integration-panel">
                    <h3>ğŸ’¾ Database Integration</h3>
                    <div class="db-stats">
                        <div class="db-stat">
                            <span class="db-label">Total Proxies:</span>
                            <span id="dbTotalProxies" class="db-value">0</span>
                        </div>
                        <div class="db-stat">
                            <span class="db-label">Active:</span>
                            <span id="dbActiveProxies" class="db-value">0</span>
                        </div>
                        <div class="db-stat">
                            <span class="db-label">Last Check:</span>
                            <span id="dbLastCheck" class="db-value">Never</span>
                        </div>
                    </div>
                    <div class="db-actions">
                        <button id="updateDbFromResults" class="btn-success">ğŸ’¾ Update DB from Results</button>
                        <button id="refreshDbStats" class="btn-secondary">ğŸ”„ Refresh Stats</button>
                        <button id="scheduleAutoCheck" class="btn-primary">â° Schedule Auto-Check</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Configuration Section -->
        <section id="config-section" class="main-section">
            <h2>âš™ï¸ System Configuration</h2>
            <div class="config-container">
                <!-- Move the existing config panel content here -->
                <div class="config-panel-expanded">
                    <!-- EternalFarm Configuration -->
                    <div class="config-group">
                        <h3>ğŸ”¥ EternalFarm Settings</h3>
                        <div class="config-row">
                            <label for="eternalfarmApiKeyConfig">ğŸ—ï¸ API Key:</label>
                            <input type="password" id="eternalfarmApiKeyConfig" placeholder="Enter your EternalFarm API Key..." style="min-width: 400px;">
                            <button id="testApiKeyConfig" class="btn-primary">ğŸ§ª Test</button>
                        </div>
                        <div class="config-row">
                            <label for="eternalfarmApiUrlConfig">ğŸŒ API URL:</label>
                            <input type="text" id="eternalfarmApiUrlConfig" value="https://api.eternalfarm.net" style="min-width: 300px;">
                        </div>
                        <div class="config-status" id="eternalfarmStatusConfig">âš« Not configured</div>
                    </div>

                    <!-- DreamBot Configuration -->
                    <div class="config-group">
                        <h3>ğŸ¤– DreamBot Settings</h3>
                        <div class="config-row">
                            <label for="dreambotUsernameConfig">ğŸ‘¤ Username:</label>
                            <input type="text" id="dreambotUsernameConfig" placeholder="RuneScape username">
                            <label for="dreambotPasswordConfig">ğŸ” Password:</label>
                            <input type="password" id="dreambotPasswordConfig" placeholder="RuneScape password">
                        </div>
                        <div class="config-row">
                            <label for="dreambotScriptConfig">ğŸ“œ Default Script:</label>
                            <input type="text" id="dreambotScriptConfig" placeholder="Script name">
                            <label for="dreambotWorldConfig">ğŸŒ World:</label>
                            <input type="number" id="dreambotWorldConfig" value="301" style="width: 80px;">
                        </div>
                        <div class="config-status" id="dreambotStatusConfig">âš« Not configured</div>
                    </div>

                    <!-- Discord Configuration -->
                    <div class="config-group">
                        <h3>ğŸ”” Discord Notifications</h3>
                        <div class="config-row">
                            <label for="discordWebhookConfig">ğŸ“¢ Webhook URL:</label>
                            <input type="text" id="discordWebhookConfig" placeholder="https://discord.com/api/webhooks/..." style="min-width: 400px;">
                            <button id="testDiscordConfig" class="btn-primary">ğŸ§ª Test</button>
                        </div>
                        <div class="config-status" id="discordStatusConfig">âš« Not configured</div>
                    </div>

                    <!-- Save/Load Configuration -->
                    <div class="config-actions">
                        <button id="saveConfigMain" class="btn-primary">ğŸ’¾ Save All Settings</button>
                        <button id="loadConfigMain" class="btn-secondary">ğŸ“¥ Load Current</button>
                        <button id="applyConfigMain" class="btn-success">ğŸš€ Apply & Restart Services</button>
                    </div>
                    
                    <p class="config-warning">âš ï¸ Settings are applied live and persist in the container environment</p>
                </div>
            </div>
        </section>

        <section id="scheduled-tasks" class="main-section">
            <h2>ğŸ“œ Scheduled Tasks & Automation</h2>
            <div class="tasks-container">
                <div class="scheduled-stops-panel">
                    <h3>â° Scheduled Stops</h3>
                    <ul id="scheduled-stops-list" class="tasks-list">
                        <li class="task-item">ğŸ›¡ï¸ No tasks currently scheduled for auto-stop.</li>
                    </ul>
                </div>
                
                <div class="automation-panel">
                    <h3>ğŸ¤– Automation Rules</h3>
                    <div class="automation-controls">
                        <button class="btn-primary">â• Add Rule</button>
                        <button class="btn-secondary">ğŸ“‹ View All</button>
                        <button class="btn-secondary">âš™ï¸ Configure</button>
                    </div>
                    <div class="automation-list">
                        <div class="automation-item">
                            <span class="rule-status">ğŸŸ¢</span>
                            <span class="rule-name">Auto-restart on disconnect</span>
                            <span class="rule-actions">
                                <button class="btn-sm">âœï¸</button>
                                <button class="btn-sm">ğŸ—‘ï¸</button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>âš”ï¸ FarmBoy v0.2 - Enhanced Discord Integration & Advanced Management âš”ï¸</p>
        <p>ğŸ• Current Date/Time: <span id="currentDateTime"></span></p>
    </footer>

    <script src="app.js"></script>
</body>
</html>
